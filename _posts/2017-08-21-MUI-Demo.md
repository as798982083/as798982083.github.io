---
layout:     post
title:      "mui学习笔记"
subtitle:   "mui入门学习笔记"
date:       2017/8/23 21:56:46 
author:     "zcj"
header-img: "img/in-post/post-eleme-pwa/eleme-at-io.jpg"
header-mask: 0.3
catalog:    true
tags:
    - mui
    - JavaScript
---

目录

[TOC]

每个知识点都有示例图片的实现代码。  

## 一、折叠面板

折叠面板示例图：  
![折叠框](/img/mui/accordion.gif)  

最简代码：

    <ul class="mui-table-view"> 
        <li class="mui-table-view-cell mui-collapse mui-active">
            <a class="mui-navigate-right" href="#">面板1</a>
            <div class="mui-collapse-content">
                <p>面板1子内容</p>
            </div>
        </li>
        <li class="mui-table-view-cell mui-collapse">
            <a class="mui-navigate-right" href="#">面板2</a>
            <div class="mui-collapse-content">
                <p>面板2子内容</p>
            </div>
        </li>
    </ul>
    
`.mui-table-view`和`.mui-table-view-cell`: 必不可少。  
`.mui-collapse`: 表示该选项可折叠(收起来)。  
`.mui-active`: 与`.mui-collase`合用，表示列表默认打开。  
`.mui-navigate-right`: 在最右边显示一个箭头。

## 二、输入框

总共有五种输入框类型，如图：  
![输入框汇总](/img/mui/input3.gif)  

最简代码：

    <form class="mui-input-group">
	    <div class="mui-input-row mui-search">
			<input type="search" class="mui-input-clear" placeholder="搜索框" />
		</div>
		<div class="mui-input-row">
			<label>input</label>
			<input type="text" class="" placeholder="普通输入框"/>
		</div>
		<div class="mui-input-row">
			<label>input</label>
			<input type="text" class="mui-input-clear" placeholder="带清除按钮的输入框" />
		</div>
		<div class="mui-input-row">
			<label>input</label>
			<input type="text" class="mui-input-speech" placeholder="语音输入" />
		</div>
		<div class="mui-input-row">
			<label>input</label>
			<input type="password" class="mui-input-password" placeholder="密码输入" />
		</div>
	</form>

`.mui-input-group`: input框放在这个class标签下，会有美化的效果。  
`.mui-input-row`： 美化时用来区分input框的每一行。  
`.mui-search`: 与`.mui-input-row`放在同一级，子标签的input属性type使用search，就可以使用搜索框。input的class属性可以用来设置搜索输入框的属性。具体有以下三种（可组合使用）：  
`.mui-input-clear`: 带有清除按钮的输入框。  
`.mui-input-speech`: 带有语音输入按钮的输入框。  
`.mui-input-password`: 与type的password属性一起使用，是带有隐藏密码功能的输入框。  

注：使用`.mui-input-group`可以美化输入框的排列，一下为使用和不使用的区别：  

![美化的输入框](/img/mui/input2.png)
![不美化的输入框汇](/img/mui/input1.png)

## 三、操作表

弹出框示例图：  
![弹出框](/img/mui/actionsheet.gif)  

最简代码：

    <div id="sheet1" class="mui-popover mui-popover-action">
	    <!-- 可选择菜单 -->
	    <ul class="mui-table-view">
	      <li class="mui-table-view-cell">
	        <a href="#">菜单1</a>
	      </li>
	      <li class="mui-table-view-cell">
	        <a href="#">菜单2</a>
	      </li>
	    </ul>
	    <!-- 取消菜单 -->
	    <ul class="mui-table-view">
	      <li class="mui-table-view-cell">
	        <a href="#sheet1"><b>取消</b></a>
	      </li>
	    </ul>
	</div>
	<button type="button" onclick="show();">show</button>
	<script type="text/javascript">
		function show () {
			mui('#sheet1').popover('toggle');//控制菜单的显示与隐藏
		}
	</script>
 
`.mui-popover`: 表明该部分作为弹出框显示。  
`.mui-popover-action`: 弹出框在底部显示，不加该类，则在按钮所在位置显示弹出框。

## 四、数字角标

数字角标示例图：  
![数字角标](/img/mui/badges.png)

最简代码：

    <ul class="mui-table-view">
		<li class="mui-table-view-cell">
			item1<span class="mui-badge">1</span>
		</li>
		<li class="mui-table-view-cell">
			item2<span class="mui-badge mui-badge-primary">12</span>
		</li>
		<li class="mui-table-view-cell">
			item3<span class="mui-badge mui-badge-success">123</span>
		</li>
		<li class="mui-table-view-cell">
			item4<span class="mui-badge mui-badge-warning">3</span>
		</li>
		<li class="mui-table-view-cell">
			item5<span class="mui-badge mui-badge-danger">45</span>
		</li>
		<li class="mui-table-view-cell">
			item6<span class="mui-badge mui-badge-purple mui-badge-inverted">456</span>
		</li>
	</ul>

`.mui-badge`:  角标的核心类,默认为实心灰色背景。  
`.mui-badge-primary`: 内置了蓝色（blue）、绿色(green)、黄色(yellow)、红色(red)、紫色(purple)五种色系的数字角标。  
`.mui-badge-inverted`： 隐藏底色，只显示数字的颜色，如上item6。  

## 五、按钮

### 普通按钮
普通按钮示例图：  
![普通按钮](/img/mui/buttons.png)

最简代码：

    <button type="button" class="mui-btn">默认</button>
	<button type="button" class="mui-btn mui-btn-primary">蓝色</button>
	<button type="button" class="mui-btn mui-btn-success">绿色</button>
	<button type="button" class="mui-btn mui-btn-warning">黄色</button>
	<button type="button" class="mui-btn mui-btn-danger mui-btn-outlined">红色</button>
	<button type="button" class="mui-btn mui-btn-royal mui-btn-outlined">紫色</button> 

`.mui-btn`: 使用该类，即可生成一个默认的按钮。  
`.mui-btn-primary`: 按钮有五种色系蓝、绿、黄、红、紫，对应五种场景`primary`、`success`、`warning`、`danger`、`royal`。  
`.mui-btn-outlined`: 隐藏底色，只显示带颜色的边框和文字。

### 加载中按钮
加载中按钮示例图：  
![加载中按钮](/img/mui/button-loading.gif)

最简代码：

    <button id="btn" type="button" 
		data-loading-icon="mui-spinner mui-spinner-	custom" 
		data-loading-text="loading" 
		data-loading-icon-position="left" 
			class="mui-btn mui-btn-primary">确认</button>
	<script type="text/javascript">
		mui(document.body).on('tap', '#btn', function(e) {
	    mui(this).button('loading');
	    setTimeout(function() {
		        mui(this).button('reset');
		    }.bind(this), 2000);
		});
	</script>

`data-loading-icon`: loading 状态显示的icon,默认为`mui-spinner`或`mui-spinner mui-spinner-white`（根据按钮样式自动识别），为空表示不使用icon.  
`data-loading-text`: loading 状态显示的文案,默认为: loading.  
`data-loading-icon-position`: loading 状态显示的icon的位置,支持left/right默认left.  

**JS API**  
DCloud封装的`tap`功能，替代了`onclick`功能。  
`mui(this).button('loading')`: 获取当前MUI标签，改变当前状态为loading。  
`mui(this).button('reset')`: 同上，改变当前状态为初始状态。  
`setTimeout(function(){},2000)`： 延迟2秒执行该函数。  

## 六、卡片式图

卡片式图示例图：  
![卡片式图](/img/mui/cardview.gif)
	
最简代码：

    <div class="mui-card">
		<!--页眉，放置标题-->
		<div class="mui-card-header mui-card-media">
			<img src="images/jimitu.gif" />
			<div class="mui-media-body">
				机密兔
				<p>发表于 2018-08-21 23:26</p>
			</div>
		</div>
		<!--内容区-->
		<div class="mui-card-content">
			<img src="images/jimitu.gif" style="height: 100%;width: 100%;"/>
			爱宠大机密里的机密兔，很可爱。
		</div>
		<!--页脚，放置补充信息或支持的操作-->
		<div class="mui-card-footer">
			<button type="button" class="mui-btn mui-btn-primary mui-btn-outlined">喜欢</button>
			<button type="button" class="mui-btn mui-btn-royal mui-btn-outlined">评论</button>
			<button type="button" class="mui-btn mui-btn-danger mui-btn-outlined">不喜欢</button>
		</div>
	</div>

`.mui-card`: 生成一个卡片容器，包括页眉、内容、页脚三部分。  
`.mui-card-header`: 页眉部分，可放置文字+图片。若要放置图片，需加上`.mui-card-media`。  
`.mui-media-body`: 页眉中可自定义的部分，用于放置标题、副标题等自定义的内容。     
`.mui-card-content`: 内容部分，可直接放置文字+图片。
`.mui-card-footer`: 页脚不可添加图片。  

## 七、复选框

复选框示例图：  
![复选框](/img/mui/checkbox.gif)  

最简代码：

    <div class="mui-input-group">
		<div class="mui-input-row mui-checkbox">
		  <label>checkbox示例</label>
		  <input type="checkbox" name="checkbox1" value="Item 1" checked>
		</div>
		
		<div class="mui-input-row mui-checkbox mui-left">
		  <label>checkbox左侧显示示例</label>
		  <input type="checkbox" name="checkbox1" value="Item 1">
		</div>
		
		<div class="mui-input-row mui-checkbox">
		  <label>checkbox禁用示例</label>
		  <input type="checkbox" name="checkbox1" value="Item 1" disabled="disabled">
		</div>
	</div>

`.mui-input-group`: 美化`.mui-input-row`所在的标签。  
`.mui-checkbox`: 美化复选框的显示。  
`.mui-left`: 默认的复选框在右侧，加上该类，则在左侧显示。  
`checked`: 默认勾选复选框。  
`disabled="disabled"`: 标签禁用（但可以显示）。

## 八、消息框

消息框示例图：  
![消息框](/img/mui/dialog.gif)  

最简代码：

    <button id="alert" class="mui-btn mui-btn-blue mui-btn-outlined">alert</button>
	<button id="confirm" class="mui-btn mui-btn-blue mui-btn-outlined">confirm</button>
	<button id="prompt" class="mui-btn mui-btn-blue mui-btn-outlined">prompt</button>
	<button id="toast" class="mui-btn mui-btn-blue mui-btn-outlined">toast</button>
	<br />
	<label id="showTest">这里显示回调函数的结果。</label>
	<script type="text/javascript">
		mui(document.body).on('tap',"#alert",function(e) {
			mui.alert("alert你一下","titla","按钮文字",function (e) {
			});
		});
		mui(document.body).on('tap',"#confirm",function (e) {
			mui.confirm("Are you boy?","title",['确定','取消'],function (e) {
			});
		});
		mui(document.body).on('tap',"#prompt",function (e) {
			mui.prompt("这是输入对话框","placeholder","title",['确定','取消'],function (e) {
				
			},'div');
		});
		mui(document.body).on('tap',"#toast",function (e) {
			mui.toast('登录成功',{duration:'long',type:'div'});
		});
	</script>

**代码解释 JS API：**  
`mui.alert(message,title,btnValue,callback[,type])`: 参数分别为：对话框内容，对话框标题，按钮上的文字，回调函数，是否使用h5绘制的对话框。  
`mui.confirm(message,title,btnValue,callback[,type])`: 参数同上。  
`mui.prompt(message,placeholder,title,btnValue,callback[,type])`: 参数分别为：对话框内容，提示文字，标题，按钮文字，回调函数，是否使用h5绘制的对话框。  
`.closePopup()`: 关闭最后一次弹出的对话框（仅限h5模式的对话框）。  
`.closePopups()`: 关闭所有对话框（仅限h5模式的对话框）。  
> 带上`mui.`前缀的`alert`等对话框，都是原生的对话框，不加该前缀的为h5模式的对话框。

## 九、图片轮播

图片轮播示例图：  
![图片轮播](/img/mui/gallery.gif)  

最简代码：  

    <div class="mui-slider">
		<div class="mui-slider-group mui-slider-loop">
			<div class="mui-slider-item"><a href="#"><img src="images/pets (4).jpg" /></a></div>
			<div class="mui-slider-item"><a href="#"><img src="images/pets (1).jpg" /></a></div>
			<div class="mui-slider-item"><a href="#"><img src="images/pets (2).jpg" /></a></div>
			<div class="mui-slider-item"><a href="#"><img src="images/pets (3).jpg" /></a></div>
			<div class="mui-slider-item"><a href="#"><img src="images/pets (4).jpg" /></a></div>
			<div class="mui-slider-item"><a href="#"><img src="images/pets (1).jpg" /></a></div>
		</div>
	</div>
	<script type="text/javascript">
		var gallery = mui('.mui-slider');
		gallery.slider({
			interval:100//自动轮播周期，若为0则不自动播放，默认为0；
		});
	</script>

**代码解释：**  
`.mui-slider-group`: 图片轮播容器。  
`.mui-slider-loop`: 与`.mui-slider-group`放在同一级，表示容器内的图片可以循环播放。如果要循环播放，则需要在头尾增加两张重复的图片。  
`.mui-slider-item`: 图片元素。  
**JS API：**  
`mui('.mui-slider').slider({interval:100});`: mui框架内封装的轮播JS API，实现100毫秒轮播间隔。  
> 若轮播组件的内容为js动态加载的（如通过ajax动态加载），则需要在动态加载完组件内容后，手动调用上述JS API，以实现轮播效果。
 
## 十、栅格

官方API有变动，而文档尚未更新。。。

## 十一、图标

[icon官方图标](http://dev.dcloud.net.cn/mui/ui/#icon)

最简代码：  

    <span class="mui-icon mui-icon-weixin"></span>

## 十二、列表

列表示例图：  
![列表](/img/mui/list.gif)  

最简代码：

    <ul class="mui-table-view">
	    <li class="mui-table-view-cell">
	    	<a class="mui-navigate-right">
	    		Item 1
	    	</a>
	    </li>
	    <li class="mui-table-view-cell">
	    	Item 2
	    	<span class="mui-badge mui-badge-danger">9</span>
	    </li>
	    <li class="mui-table-view-cell">Item 3</li>
	</ul>
	<ul class="mui-table-view">
		<li class="mui-table-view-cell mui-media">
			<a href="javascript:;">
				<img class="mui-media-object mui-pull-left" src="images/pets (1).jpg"/>
				<div class="mui-media-body">
					幸福
					<p class="mui-ellipsis">回家撸猫~</p>
				</div>
			</a>
		</li>
		<li class="mui-table-view-cell mui-media">
			<a href="javascript:;">
				<img class="mui-media-object mui-pull-right" src="images/pets (2).jpg"/>
				<div class="mui-media-body">
					快乐
					<p class="mui-ellipsis">回家撸狗狗，会不会被咬</p>
				</div>
			</a>
		</li>
	</ul>

**代码解释：**  
`.mui-table-view`: `ul`标签上添加该类，并在`li`标签上添加`.mui-table-view-cell`类，即可实现最简单的列表控件。  
`.mui-navigate-right`: 在`li`标签内添加`a`标签，并使用该类，会在右侧显示小箭头。  
`mui-badge`: mui支持将数字角标(`mui-badge`)、按钮(`mui-btn`)、开关(`mui-switch`)等控件放在列表中，默认放在右侧。  
`mui-media`: 允许放置图文列表，注意该类的同级类。  
`mui-object`: 对象，可以是图片。  
`mui-pull-left`: 设置object的显示位置，默认为左边。  
`mui-media-body`: 主体部分。  
`mui-ellipsis`: 该部分的内容在无法全部显示的情况下会省略。  

## 十三、遮罩蒙版

遮罩蒙版例图（浏览器上显示不了，暂时没有图片）：  

最简代码：  

    <button type="button" id="mask" class="mui-btn">显示蒙版</button>
	<script type="text/javascript">
		var mask = mui.createMask(callback);//callback为用户点击蒙版时自动执行的回调；
		mui(document.body).on('tap','#mask',function (e) {
			mask.show();//显示遮罩
		});
	    mask.close();//关闭遮罩
	</script>

**代码解释 JS API:**  
`mui.createMask()`: 创建蒙版对象。  
`mui.createMask().show()`: 显示蒙版。 
`mui.createMask().close()`: 关闭蒙版。  

## 十三、数字输入框

数字输入框示例图：  
![数字输入框](/img/mui/numbox.gif)

最简代码：

    <div class="mui-numbox" data-numbox-step = "10" data-numbox-min = "0" 
		data-numbox-max="100">
	  <!-- "-"按钮，点击可减小当前数值 -->
	  <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
	  <input class="mui-numbox-input" type="number" />
	  <!-- "+"按钮，点击可增大当前数值 -->
	  <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
	</div>

**代码解释：**   
`.mui-numbox`: 数字输入框容器。  
`data-numbox-step`: 每次按钮加减的数值。  
`data-numbox-min`: 显示的最小数值。  
`data-numbox-max`: 显示的最大数值。  
`.mui-numbox-btn-minus`: 数字输入框的`－`按钮。  
`.mui-numbox-input`: 与`number`属性一起使用，生成数字输入框的显示框。  
`.mui-numbox-btn-plus`: 数字输入框的`+`按钮。  

## 十四、侧滑菜单

[侧滑导航官文](http://dev.dcloud.net.cn/mui/ui/#offcanvas)

mui提供两种侧滑导航实现:

1.webview模式,在一个单独的webview中实现菜单。  

优点：  
> 菜单内容是独立的webview，故可被多个页面复用。  
> 菜单独立，因此菜单内容的滚动不影响界面，故可使用原生滚动，更流畅。 
  
缺点：  
> 不支持拖动手势。  
> 主界面和菜单不在同一个webview，交互需要使用自定义事件实现跨越webview通讯。  

2.div模式 
与主页面在同一个webview下，嵌套在特定结构的div中。  
优点：  
> 支持拖动手势。  
> 使用JS轻松实现主页面和菜单的交互。  

缺点：  
> 菜单部分不能再多个页面复用。
> 使用div区域滚动，低端Android机可能会有卡顿现象。  


侧滑菜单示例图DOM1：  
![DOM1](/img/mui/offcanvasDOM1.gif)

最简代码  
**DOM结构1:**

	<!-- 侧滑导航根容器 -->
	<div class="mui-off-canvas-wrap mui-draggable mui-slide-in">
	  <!-- 菜单容器 -->
	  <aside class="mui-off-canvas-left">
	    <div class="mui-scroll-wrapper">
	      <div class="mui-scroll">
	        <!-- 菜单具体展示内容 -->
	        ...
	      </div>
	    </div>
	  </aside>
	  <!-- 主页面容器 -->
	  <div class="mui-inner-wrap">
	    <!-- 主页面标题 -->
	    <header class="mui-bar mui-bar-nav">
	      <a class="mui-icon mui-action-menu mui-icon-bars mui-pull-left"></a>
	      <h1 class="mui-title">标题</h1>
	    </header>
	    <div class="mui-content mui-scroll-wrapper">
	      <div class="mui-scroll">
	        <!-- 主界面具体展示内容 -->
	        ...
	      </div>
	    </div>  
	  </div>
	</div>

**代码解释：**  
`mui-off-canvas-wrap`: 侧滑导航的根容器类。  
`mui-draggable`: 默认侧滑动画，主界右移，菜单不动。    
`mui-off-canvas-left`: 在左边的菜单容器。  
`mui-off-canvas-right`： 在右边的菜单容器。  
`mui-scroll-wrapper`: 可以滚动的区域容器。  
`mui-scroll`: 可以滚动的区域。  
`mui-inner-wrap`: 主界面容器。    
**DOM1结构下的动画样式：**  
`mui-scalable`: 缩放式侧滑。  
`mui-slide-in`: 主界面不动，菜单移动。  



侧滑菜单示例图DOM2：    
![DOM2](/img/mui/offcanvasDOM2.gif)

最简代码  
**DOM结构2:**

    <!-- 侧滑导航根容器 -->
	<div class="mui-off-canvas-wrap mui-draggable">
	  <!-- 主页面容器 -->
	  <div class="mui-inner-wrap">
	     <!-- 菜单容器 -->
	    <aside class="mui-off-canvas-left">
	      <div class="mui-scroll-wrapper">
	        <div class="mui-scroll">
	          <!-- 菜单具体展示内容 -->
	          ...
	        </div>
	      </div>
	    </aside>
	    <!-- 主页面标题 -->
	    <header class="mui-bar mui-bar-nav">
	      <a class="mui-icon mui-action-menu mui-icon-bars mui-pull-left"></a>
	      <h1 class="mui-title">标题</h1>
	    </header>
	    <!-- 主页面内容容器 -->
	    <div class="mui-content mui-scroll-wrapper">
	      <div class="mui-scroll">
	        <!-- 主界面具体展示内容 -->
	        ...
	      </div>
	    </div>  
	  </div>
	</div>

**代码解释：**   
> 两种结构的不同：DOM2结构的主页面容器`mui-inner-wrap`将菜单容器`mui-off-canvas-left`包含在内。  

**mui操作div模式侧滑菜单的方法:**  
1. 在界面上拖动操作（drag）；  
2. 点击含有`mui-action-menu`类的控件；  
3. Android手机按menu键；  
4. 通过JS API触发；  

**JS API:**  
1. `show()`/显示  
2. `close()`/隐藏   
3. `toggle()`/切换  

以上方法均可用以下两种方式调用：  
1. `mui('.mui-off-canvas-wrap').offCanvas('show');`  
2. `mui('.mui-off-canvas-wrap').offCanvas().show();`

**事件监听：**  
可以通过以下方式监听侧滑菜单的显示与隐藏:  
1. `shown `   
2. `hidden`  

监听方法：  

    document.querySelector('.mui-off-canvas-wrap')
		.addEventListener('shown',function (event) {  
        //...  
    })

或者调用`isShown()`方法判断显示状态:  

    mui('.mui-off-canvas-wrap').offCanvas().isShown();

`isShown()`方法也可以传递direction(方向) 参数( 非必选!! )进而可以判断左右侧滑  

    mui('.mui-off-canvas-wrap').offCanvas().isShown('left');//true

## 十五、弹出菜单  

弹出菜单示例图：  
![弹出菜单](/img/mui/popover.gif)  

最简代码：  

    <a href="#popover" id="openPopover" 
		class="mui-btn mui-btn-primary mui-btn-block">直接打开弹出菜单</a>
	<a href="" id="openPopoverJS" 
		class="mui-btn mui-btn-primary mui-btn-block">使用JS打开弹出菜单</a>
	...
	<div id="popover" class="mui-popover">
	  <ul class="mui-table-view">
	    <li class="mui-table-view-cell"><a href="#">Item1</a></li>
	    <li class="mui-table-view-cell"><a href="#">Item2</a></li>
	    <li class="mui-table-view-cell"><a href="#">Item3</a></li>
	    <li class="mui-table-view-cell"><a href="#">Item4</a></li>
	    <li class="mui-table-view-cell"><a href="#">Item5</a></li>
	  </ul>
	</div>
	<script type="text/javascript">
		mui(document.body).on('tap','#openPopoverJS',function () {
			//会在body层面调用事件，菜单显示在body层上。
			//mui('.mui-popover').popover("toggle");
			//会在#openPopoverJS层面调用事件，菜单会关联到#openPopoverJS层上。
			mui('.mui-popover').popover("toggle",
			document.getElementById('openPopoverJS'));
		});
	</script>

**代码解释：**  
`mui-popover`: 菜单容器，只能放在`div`标签中,菜单内容不限。  


`mui`推荐使用锚点方式显示和隐藏菜单。  

    <a href="#popover" id="openPopover" class="mui-btn mui-btn-primary mui-btn-block">
        打开弹出菜单
    </a>

也可以通过JS方式控制弹出菜单。  

    mui('.bottomPopover').popover("toggle",document.getElementById('openPopoverJS'));

第一个参数可以是以下三个：   
1. `show`   
2. `hide`  
3. `toggle`

第二个参数可设置弹出菜单绑定的锚点。


## 十六、选择器  

[picker官文](http://dev.dcloud.net.cn/mui/ui/#picker)

> 在`mui`中，Picker有两种具体表现：`.poppicker`(普通选择器)和`.dtpicker`(时间选择器)

**Poppicker：**   
特点：支持多级联动。  

单级选择器示例图：  
![单级选择器](/img/mui/poppicker.gif)  

最简代码：

    <link rel="stylesheet" type="text/css" href="css/mui.picker.css"/>
	<link rel="stylesheet" type="text/css" href="css/mui.poppicker.css"/>
	<script src="js/mui.picker.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/mui.poppicker.js" type="text/javascript" charset="utf-8"></script>
	...
    <script type="text/javascript">
		var picker = new mui.PopPicker();
		picker.setData([{
		    value: "first",
		    text: "填充数据后，可设定每个层级的选中项"
		}, {
		    value: "second",
		    text: "instance.pickers[index] 拿到指定层级的实例"
		}, {
		    value: "third",
		    text: "setSelectedIndex()和setSelectedValue()"
		}, {
		    value: "fourth",
		    text: "两个方法可以指定层级中的选中项"
		}, {
		    value: "fifth",
		    text: "代码如下"
		}])
		//picker.pickers[0].setSelectedIndex(4, 2000);
		picker.pickers[0].setSelectedValue('fourth', 2000);
		picker.show(function (selectItems) {
		    console.log(selectItems[0].value);//zz 
		    console.log(selectItems[0].text);//智子
			//return false; //可以阻止选项框的关闭
		});
		//picker.hide();//隐藏picker
		//picker.dispose(); //释放组件资源，下次使用需要再次创建实例。
	</script>

**代码解释：**  
> 以下使用到的`.js/.css`文件，可以在HBuilder中新建一个Hello mui示例项目，项目中包含所有使用到的`.js/.css`文件。  

1. `mui.picker.js/.css mui.poppicker.js/.css`：`.poppicker`的依赖组件，务必在`mui.js/css`后引用,也可统一引用压缩版本`mui.picker.min.js`。  
2. `new PopPicker()`: 初始化poppicker组件。  
3. `setData()`： 添加数据，格式为数组。  
4. `instance.pickers[index]`: `instance`为创建的组件实例，`index`从0开始算起。  
5. `seSelectedIndex(index,duration,callback)`: `index`从0开始算起，`duration`动画持续时长，`callback`成功后的回调函数。  
6. `instance.show(getSelectedItems)`: 显示选择器。  
7. `return false;`: 在回调函数中使用，可以阻止选项框的关闭。  
8. `instance.hide()`: 隐藏`instance`。  
9. `instance.dispose()`: 释放组件资源，下次在使用必须要再次创建实例。   


多级选择器示例图：  
![多级选择器](/img/mui/poppicker2.gif)  

最简代码：  

    <script type="text/javascript">
		var picker = new mui.PopPicker({
		    layer: 2
		});
	    picker.setData([{
	        value: '110000',
	        text: '北京市',
	        children: [{
	                value: "110101",
	                text: "东城区"
	        }]
	    }, {
	        value: '120000',
	        text: '天津市',
	        children: [{
		        value: "120101",
	            text: "和平区"
	        }, {
	            value: "120102",
	            text: "河东区"
	        }, {
	            value: "120104",
	            text: "南开区"
	        }
	        ]
	    }]);
	    //以此获取每一层级的对象，并设置默认值。
		picker.pickers[0].setSelectedIndex(1,100);//参数index,duration,callback
		picker.pickers[1].setSelectedIndex(2,1000);
		picker.show(function(SelectedItem) {
			console.log(SelectedItem[0].value);
			console.log(SelectedItem[0].text);
		})；
	</script>

**代码解释：**  
多级联动只要修改`setData()`中的数组参数即可。


**dtpicker:**  
dtpicker组件适用于弹出日期选择器。  

时间选择器示例图：  
![时间选择器](/img/mui/dtpicker2.gif)  

最简代码：  

	<link rel="stylesheet" type="text/css" href="css/mui.dtpicker.css"/>
    <script src="js/mui.dtpicker.js" type="text/javascript" charset="utf-8"></script>
	...
    <script type="text/javascript">
		var dtpicker = new mui.DtPicker({
		    type: "datetime",//设置日历初始视图模式 
		    beginDate: new Date(2015, 04, 25),//设置开始日期 
		    endDate: new Date(2016, 04, 25),//设置结束日期 
		    labels: ['Year', 'Mon', 'Day', 'Hour', 'min'],//设置默认标签区域提示语 
		    customData: { 
		        h: [
		            { value: 'AM', text: 'AM' },
		            { value: 'PM', text: 'PM' }
		        ] 
		    }//时间/日期别名 
		}) 
		dtpicker.show(function(e) {
		    console.log(e);
			//return false; //阻止选窗口关闭
		});
			//dtpicker.hide(); //隐藏窗口
			//dtpicker.dispose(); //释放组件资源
	</script>

**代码解释：**    
1. 要是用dtpicker需要先添加`mui.dtpicker.css`和`mui.dtpicker.js`。    
2. `new Dtpicker({options})`: `options`有五个参数，如下：  
3. `type`：可选择`datetime`,`date`,`time`,`month`,`hour`五种类型视图。  
4. `customData`：放一个`json`数组，可选值为:y,m,d,h,i，内容即为显示的内容。  
5. `labels`：设置显示在顶部的字段。    
6. `beginDate`，`endDate`：开始和结束的日期，用于确定显示的时间范围。  
7. `getSelected()`:返回选中的日期字符串，例如"2015-05-25 AM:00"。  
8. `show(getSelected)`:该函数将时间选择器显示出来，参数中可以有一个返回函数。  


## 十七、进度条

准确进度进度条示例图：  
![进度条](/img/mui/progressbar.gif)  

最简代码：  

    <div id="demoPro" class="mui-progressbar">
		<span id="">我是进度条</span>
	</div>
	<script type="text/javascript">
		var progress = mui('#demoPro').progressbar(); //自动检测该节点及直接子节点是否含有mui-progressbar类，没有则自动创建
		progress.show(); 
			//mui('#demoPro').progressbar({progress:20}).show();
		setTimeout(function () {
			progress.setProgress(50);
			console.log(progress);
		},1000);
		progress.hide(); //仅对动态创建的DOM节点有用。
	</script>

**代码解释：**  
1. `mui（'#demoPro').progressbar({progress:20})`: 该函数会自动检测`#demoPro`节点及其直接孩子节点中，是否有`mui-progressbar`这个类，如果有，则以那个控件为容器，显示进度条。如果没有，则自动创建进度条，此时的进度条属于动态创建的。其中的参数把进度设置为20%。    
2. `show()`: 显示进度条。  
3. `setProgress(50)`:设置进度。  
4. `mui-progressbar-infinite`:默认生成的是有准确进度的进度条，在`mui-progressbar`控件中加入该类，则生成一个无限循环的进度条。

无限循环进度条示例图:  
![进度条](/img/mui/progressbar2.gif)  
	
## 十八、透明标题栏

> 当用户向下滚动时，标题栏逐渐由透明转变为不透明；当用户再次向上滚动时，标题栏又从不透明变为透明状态。

进度条示例图：  
![进度条](/img/mui/transparentBar.gif)  

最简代码：

    <header class="mui-bar mui-bar-nav mui-bar-transparent" 
		data-top='0' data-offset='150' data-duration='16' 
		data-scrollby=".mui-scroll-wrapper">
		<h1 class="mui-title">标题</h1>
	</header>
	<div class="mui-content">
		<ul class="mui-table-view">
			<li class="mui-table-view-cell">
				item
			</li>
			
		</ul>		
	</div>
	<script type="text/javascript">
		mui('.mui-bar-transparent').transparent({
	    top: 0,
	    offset: 150,
	    duration: 16,
	    scrollby: document.querySelector('.mui-scroll-wrapper')
	})
	</script>

**代码解释：**  
1. `mui-bar-transparent`: 只要在`header`组件上添加该类即可实现透明标题栏。  
2. `data-top`:距离顶部高度（滚动到该位置即触发），JS API:`{top:0}`。  
3. `data-offset`:滚动透明距离，JS API:`{offset:150}`。  
4. `data-duration`:过渡时间ms，JS API:`{duration:16}`。  
5. `data-scrollby`：监听区域滚动容器，默认是`window`，即监听原生滚动。如监听`mui scroll`控件滚动，则使用`.mui-scroll-wrapper`。JS API：`{document.querySelector('.mui-scroll-wrapper')`。

## 十九、单选框

进度条示例图：  
![进度条](/img/mui/radio.gif)  

DOM结构： 

    <div class="mui-input-row mui-radio">
		<label>单选</label>
		<input type="radio" name="radio" value="单选" />
	</div>

示例代码：

    <div class="mui-input-row mui-radio">
		<label>单选右边</label>
		<input type="radio" name="radio" value="单选右边" />
	</div>
	<div class="mui-input-row mui-radio mui-left">
		<label>单选左边</label>
		<input type="radio" name="radio" value="单选左边" />
	</div>
	<div class="mui-input-row mui-radio mui-disabled">
		<label>单选禁用</label>
		<input type="radio" name="radio" value="单选禁用" disabled="disabled"/>
	</div>
	<ul class="mui-table-view mui-table-view-radio">
		<li class="mui-table-view-cell">
			<a class="mui-navigate-right">
				提供了列表式单选实现 Item1
			</a>
		</li>
		<li class="mui-table-view-cell mui-selected">
			<a class="mui-navigate-right">
				提供了列表式单选实现 Item 2
			</a>
		</li>
		<li class="mui-table-view-cell">
			<a class="mui-navigate-right">
				提供了列表式单选实现 Item 3
			</a>
		</li>
	</ul>
	<script type="text/javascript">
		var list = document.querySelector('.mui-table-view.mui-table-view-radio');
		list.addEventListener('selected',function(e){
			console.log("当前选中的为："+e.detail.el.innerText);
		});
	</script>

**代码解释：**  
1. `mui-left`: 单选框显示在左边。默认的话显示在右边。  
2. `mui-disabled`+`disabled="disabled"`: 禁用的单选按钮。  
3. `mui-table-view-radio`：在列表控件的根节点上增加该类，可实现列表是单选功能。  
4. `mui-selected`: 默认选中项。  

**JS API:**  
1. 列表在切换选中项时，会触发selected事件。  
2. 事件参数`e.detail.el`可以获得当前选中的节点。  

## 二十、滑块

滑块示例图：  
![滑块](/img/mui/range.gif)  

示例代码：
  
    <div class="mui-input-row mui-input-range">
		<label>Range</label>
		<input id="demoRange" type="range" min="0" max="100">
	</div>
    <label id="res">显示结果</label>
	<script type="text/javascript">
		mui(document.body).on('change','#demoRange',function (e) {
			document.getElementById("res").innerText = this.value;
			console.log(this.value);
			console.log(document.getElementById("res").innerText);
		});
	</script>

**代码解释：**  
1. 基础的DOM结构即上面的`div`控件。  
2. JS 调用也是最基本的JS用法。  
3. `document.getElementById("res").innerText`:获取`label`标签的内容不同于其他标签，需使用`innerText`属性。

## 二十一、区域滚动

div区域滚动的需求是普遍存在的，但系统默认实现又有如下问题：
> Android平台4.0以下不支持div滚动  
> Android平台4.0以上支持div滚动，但不显示滚动条  
> 弹出层的div滚动在iOS平台存在事件透传的问题

因此，mui额外提供了区域滚动组件，使用时需要遵循如下DOM结构

区域滚动示例图：  
![区域滚动](/img/mui/scroll.gif)  

示例代码：

    <div class="mui-scroll-wrapper">
		<div class="mui-scroll">
			<ul id="scrollUL" class="mui-table-view"></ul>
		</div>
	</div>
	<script type="text/javascript">
		//动态创建li标签
		//获取父控件
		var ul = document.getElementById('scrollUL');
		for(var i=1;i<=20;i++){
			//创建li控件
			var li = document.createElement('li');
			//设置显示内容
			li.innerHTML = 'item' + i;
			//设置class属性
			li.setAttribute('class','mui-table-view-cell');
			//添加到父控件中
			ul.appendChild(li); 
		}
		
		mui('.mui-scroll-wrapper').scroll({
			startY: -50,
			deceleration: 0.0006 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
		});
		setTimeout(function () {
			mui('.mui-scroll-wrapper').scroll().scrollTo(0,0,2000);//100毫秒滚动到顶
		},1000);
		setTimeout(function () {
			mui('.mui-scroll-wrapper').scroll().scrollToBottom(2000);//100毫秒滚动到顶
		},2000);
	</script>

**代码解释：**  
区域滚动组件默认为`absolute`定位，全屏显示；在实际使用过程中，需要手动设置滚动区域的位置（`top`和`height`），常用的配置项：  
> scroll.options  
    
    options = {  
	 scrollY: true, //是否竖向滚动  
	 scrollX: false, //是否横向滚动  
	 startX: 0, //初始化时滚动至x  
	 startY: 0, //初始化时滚动至y  
	 indicators: true, //是否显示滚动条  
	 deceleration:0.0006, //阻尼系数,系数越小滑动越灵敏  
	 bounce: true //是否启用回弹  
	}`

1. `mui('.mui-scroll-wrapper').scroll({})`:初始化`scroll`控件，若使用区域滚动组件，需手动初始化scroll控件。  
2. `scrollTo(0,0,2000)`: 滚动到指定位置，参数依次为：x坐标，y坐标，滚动过程的时长。  
3. `scrollToBottom(2000)`: 滚动到控件底部，参数为滚动过程的时长。  

横向滚动DOM:

    <div class="mui-scroll-wrapper mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
	    <div class="mui-scroll">
	        <a class="mui-control-item mui-active">
	            推荐
	        </a>
	        <a class="mui-control-item">
	            热点
	        </a>
	        <a class="mui-control-item">
	            北京
	        </a>
	        <a class="mui-control-item">
	            社会
	        </a>
	        <a class="mui-control-item">
	            娱乐
	        </a>
	        <a class="mui-control-item">
	            科技
	        </a>
	    </div>
	</div>

横向滚动示例图：  
![区域滚动](/img/mui/scrollX.gif)  

## 二十二、轮播组件

轮播组件示例图：  
![轮播组件](/img/mui/scrollX.gif)  

DOM结构：

    <div class="mui-slider">
	  <div class="mui-slider-group">
	    <!--第一个内容区容器-->
	    <div class="mui-slider-item">
	      <!-- 具体内容 -->
	    </div>
	    <!--第二个内容区-->
	    <div class="mui-slider-item">
	      <!-- 具体内容 -->
	    </div>
	  </div>
	</div>

示例代码：

    <div class="mui-slider">
	  <div class="mui-slider-group">
	    <div id="item1" class="mui-slider-item">
	      <img src="images/jimitu.gif" />
	    </div>
	    <div id="item2" class="mui-slider-item">
	      <img src="images/pets (1).jpg" />
	    </div>
	  </div>
	</div>
	<label id="label">显示结果</label>
	<script type="text/javascript">
		document.querySelector('.mui-slider')
		.addEventListener('slide', function(event) {
		  if (event.detail.slideNumber === 0) {
		    console.log("已经切换到第一项");
		    var text = "你正在看第"+(event.detail.slideNumber+1)+"张图片";
		    document.getElementById("label").innerText = text;
		  }
		  if (event.detail.slideNumber === 1) {
		    console.log("已经切换到第二项");
		    var text = "你正在看第"+(event.detail.slideNumber+1)+"张图片";
		    document.getElementById("label").innerText = text;
		  }
		});
	</script>

**JS API：**  
1. 监听轮播组件的`slide`事件，当选项卡切换时会触发该事件。  
2. `detail.slideNumber`: 当前选项卡的索引，从0开始。  

## 二十三、开关

轮播组件示例图：  
![轮播组件](/img/mui/switch.gif)  

DOM结构：

    <div class="mui-switch">
	  <div class="mui-switch-handle"></div>
	</div>

示例代码：

    <div class="mui-switch">
	  	<div class="mui-switch-handle"></div>
	</div>
	<div class="mui-switch mui-active">
	  	<div class="mui-switch-handle"></div>
	</div>
	<!-- 简洁模式开关关闭状态 -->
	<div class="mui-switch mui-switch-mini">
		<div class="mui-switch-handle"></div>
	</div>
	<!-- 简洁模式开关打开状态 -->
	<div class="mui-switch mui-switch-mini mui-active">
	  	<div class="mui-switch-handle"></div>
	</div>
	<!-- 蓝色开关关闭状态 -->
	<div class="mui-switch mui-switch-blue mui-switch-mini">
	  	<div class="mui-switch-handle"></div>
	</div>
	<!-- 蓝色开关打开状态 -->
	<div id="mySwitch" class="mui-switch mui-switch-blue mui-active">
	  	<div class="mui-switch-handle"></div>
	</div>
	<script type="text/javascript">
		var isActive = document.getElementById("mySwitch").classList.contains("mui-active");
		if(isActive){
		  console.log("打开状态");
		}else{
		  console.log("关闭状态");  
		}
			//mui('#mySwitch').switch().toggle();//官网给出的该方法，已经不能使用 2017.9.6
		document.getElementById("mySwitch")
		.addEventListener("toggle",function(event){
		  if(event.detail.isActive){
		    console.log("你启动了开关");
		  }else{
		    console.log("你关闭了开关");  
		  }
		})
	</script>

**代码解释：**  
1. `mui-switch`和`mui-switch-handle`:是快关的基类。  
2. `mui-active`: 在`mui-switch`节点上增加该类，表示默认打开状态。  
3. `mui-switch-mini`:开关上默认会显示on/off字样，加上该类则不显示文字。  
4. `mui-switch-blue`:在`mui-switch`节点上增加该类，生成蓝色开关控件。  

**注意**  
mui在mui.init()中会自动初始化基本控件,但是 动态添加的 Switch 组件需要手动初始化。  
> `mui('.mui-switch')['switch']()`


